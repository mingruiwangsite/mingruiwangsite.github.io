<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh">
<head>
    <title>Highlighter with Oxford Definition</title>
    <link rel="stylesheet" type="text/css" href="/common.css"/>

    <script src="data.js"></script>

    <script>
        numberofoxford = 0;

        //	document.write(vocabulary.words[1545].word+" "+vocabulary.words[1545].level)
        function colour(l) {
            if (l == "four") {
                return "blue"
            }
            if (l == "six") {
                return "red"
            }
        }

        function oxford(number) {

            if (numberofoxford == 0) {
                document.getElementById("oxfordd").innerHTML = "<h3 style='color:#0B6121'>Oxford Defination:</h3>"
            }
            ox = document.getElementById("oxford").innerHTML;
            if (numberofoxford > 0) {
                ox = "<hr>" + ox;
            }
            document.getElementById("oxford").innerHTML = "<span style='color:#0B3B17;font-weight:bold;font-size:120%'>" + vocabulary[number][0] + "</span> " + vocabulary[number][3] + ox;
            numberofoxford++;
        }

        function c(method, a) {
            na = 0;
            x = a.replace(/<font color=\".{,7}\">/gi, "").replace(/\n/gi, "\nspacessss ");
            t = x;
            for (na = 0; na < vocabulary.length; na++) {
                x = x.replace(window.eval("/ (" + vocabulary[na][0] + ")/gi"), " <font color=" + colour(vocabulary[na][2]) + ">$1</font>")
                t = t.replace(window.eval("/ (" + vocabulary[na][0] + ")/gi"), " <span style='color:" + colour(vocabulary[na][2]) + "' title='" + vocabulary[na][1] + "' onclick=oxford('" + na + "')>$1</span>")
            }
            ;
            text.value = x.replace(/spacessss /gi, "");
            if (method == "mark_display") {
                document.getElementById("wmr").innerHTML = t.replace(/spacessss /gi, "").replace(/\n/gi, "<br />");
            }
        };

    </script>

<body>
<h1 style="color:green">四六级词汇标出</h1>
<div class="tool-intro">

    使用方法：将.srt英文字幕文件用记事本或高级文本编辑器打开，全选（Ctrl+A）后粘贴于此，点击“标记”后再将标记后的文本替换回去，保存文件。这样，字幕显示时就有四六级词汇的标记。（蓝色的是四级，红色的是六级有且四级没有的词。）
    <br/><br/>
    也可以粘贴上文章进行标记。点击四六级词汇后，右侧会出现该词在牛津词典里的解释。安装Kingsoft Phonetic Plain.ttf字体，音标才会正确显示。
    <br/><br/>

    请使用Firefox浏览器运行。
    <br/><br/>
    <br/>
</div>
<div>
    <textarea id="text" rows="15" cols="80"></textarea><br/>
    <input type="button" value="标记" xml:lang="zh-cn" onclick="c('mark',text.value);"/ >
    <input type="button" value="标记并显示" xml:lang="zh-cn" onclick="c('mark_display',text.value)"/ >
</div>
</div>

<div id="wmr" style="width:60%;float:left;"></div>

<div id="oxfordd"></div>
<div id="oxford" style="float:left;width:30%;font-size:85%"></div>


<br/><br/><br/><br/>

<!--	王明睿 2014.3.30-->
</body>
</html>
